!function(t){function e(s){if(i[s])return i[s].exports;var n=i[s]={exports:{},id:s,loaded:!1};return t[s].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),o=i(1),a=s(o);!function(t){var e=function(){function e(i){var s=this;n(this,e),this.element=t(i),this.animation=0,this.containment=t(".main"),this.options=this.element.data("options"),this.wait=0,this.element.hasClass("modules-readonly")||t(".modules-empty",this.elemnt).length||(this.modules=this.options.modules.map(function(t){return new a["default"](t)}),this.visible=t('.modules-dropzone[data-entries="visible"]',this.element),this.invisible=t('.modules-dropzone[data-entries="invisible"]',this.element),this.create(this.visible,this.invisible),this.create(this.invisible),this.modules.forEach(function(t){return t.children=s.visible.children().filter(function(){return this.dataset.template==t.template})}),this.events())}return r(e,[{key:"create",value:function(t,e){t._sortable({connectWith:e||!1,start:function(){t._sortable("refreshPositions")}})}},{key:"disconnect",value:function(t){t._sortable("option","connectWith",!1),t._sortable("refresh")}},{key:"connect",value:function(t,e){t._sortable("option","connectWith",e),t._sortable("refresh")}},{key:"disable",value:function(){this.invisible._sortable("disable"),this.visible._sortable("disable")}},{key:"events",value:function(){var t=this;this.invisible.on("_sortablestart",function(e,i){var s=t.module(i.item.data("template"));t.droppable()&&s.droppable()?t.connect(t.invisible,t.visible):t.disconnect(t.invisible)}),this.visible.on("_sortablereceive",function(e,i){t.sort(i.item.data("uid"),i.item.index())}),this.visible.on("_sortablestop",function(e,i){"visible"==i.item.parent().data("entries")&&t.sort(i.item.data("uid"),i.item.index())}),this.visible.on("_sortableremove",function(e,i){t.hide(i.item.data("uid"))})}},{key:"module",value:function(t){return this.modules.find(function(e){return e.template==t})}},{key:"droppable",value:function(){return!this.options.limit||this.options.limit&&this.options.limit>this.visible.children().length}},{key:"sort",value:function(e,i){this.disable(),t.post(this.options.url,{action:"sort",id:e,to:i+1},this.reload.bind(this))}},{key:"hide",value:function(e){t.post(this.options.url,{action:"hide",id:e},this.reload.bind(this))}},{key:"reload",value:function(){this.disable(),app.content.reload()}}]),e}();t.widget("ui._sortable",t.ui.sortable,{_mouseStart:function(e,i,s){var n,r,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this._createPlaceholder(),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0}}),t.fn.modules=function(){return this.each(function(){if(t(this).data("modules"))return t(this);var i=new e(this);return t(this).data("modules",i),t(this)})}}(jQuery)},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function(){function t(e){i(this,t),this.template=e.template,this.options=e.options}return s(t,[{key:"droppable",value:function(){return!this.options.limit||this.options.limit&&this.options.limit>this.children.length}}]),t}();e["default"]=n}]);